<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Facelet Title</title>
        <link rel="stylesheet" href="gameStyle.css" />
    </h:head>
    <h:body>
        <table id="board">
        </table>
        <script>
            //<![CDATA[
                var row = "";
                var coord = 0;
                for (var a = 0; a < 50; a++) {
                    row += "<tr>";
                    for (var b = 0; b < 50; b++) {
                        row += "<td id=\"g" + coord + "\"></td>";
                        coord += 1;
                    }
                    row += "</tr>";
                }
                document.getElementById("board").innerHTML = row;

                // Key Events
                // Have to send key data to Java code to determine what action to take.
                //TODO: Worm redWorm = new Worm();
                //TODO: Worm cyanWorm = new Worm();
                //TODO: Pellet eat = new Pellet();
                //TODO: start GameLoop; -- Always check for endGame();
                //TODO: Spawn Pellet
                //TODO: Start moving worms

                document.onkeydown = function(e) {
                    e = e || window.event;
                    switch(e.which || e.keyCode) {
                        case 37: // Left
                            //TODO: call moveLeft();
                            //TODO: getCoordinate()-1;
                            var head = this.getElementById((this.getCoordinate()-1));
                            document.getElementById(head).style.background-color(this.getColor());
                        break;

                        case 38: // Up
                            //TODO: call moveUp();
                            var head = this.getElementById((this.getCoordinate()-50));
                            document.getElementById(head).style.background-color(this.getColor());
                        break;

                        case 39: // Right
                            //TODO: call moveRight();
                            var head = this.getElementById((this.getCoordinate()+1));
                            document.getElementById(head).style.background-color(this.getColor());
                        break;

                        case 40: // Down
                            //TODO: call moveDown();
                            var head = this.getElementById((this.getCoordinate()-50));
                            document.getElementById(head).style.background-color(this.getColor());
                        break;

                        default: return; // Exit this handler for other keys
                    }
                    e.preventDefault(); // Prevent the default action (scroll / move caret)


                    //TODO end GameLoop;
                };
            //]]>
        </script>
    </h:body>
</html>

